<h1 class="text-center">MEAN SPA with Angular 2</h1>

<section>
    <fieldset class="form-group">
        <label class="control-label col-sm-1" for="title">Title: *</label>
        <input name="title" id="title" required [(ngModel)]="title" />
    </fieldset>
    <fieldset class="form-group">
        <label class="control-label col-sm-1" for="year">Year: *</label>
        <input name="year" id="year" required type="number" [(ngModel)]="year" />
    </fieldset>
    <fieldset class="form-group">
        <label class="control-label col-sm-1" for="author">Author: *</label>
        <input name="author" id="author" required [(ngModel)]="author" />
    </fieldset>
    <button class="btn btn-primary col-sm-offset-1" (click)="addBook()" *ngIf="!_id">Add</button>
    <button class="btn btn-primary col-sm-offset-1" (click)="updateBook()" *ngIf="_id">Update</button>
    <button class="btn btn-primary" (click)="clearForm()">Reset</button>
    <input id="_id" name="_id" [(ngModel)]="_id" type="hidden" />
</section>

<h2>Books</h2>

<table class="table table-striped table-hover">
    <tr>
        <td>Title</td>
        <td>Year</td>
        <td>Author</td>
        <td>Actions</td>
    </tr>
    <tr *ngFor="let book of books">
        <td>{{book.title}}</td>
        <td>{{book.year}}</td>
        <td>{{book.author}}</td>
        <td>
            <button class="btn btn-primary" (click)="selectBook(book)">Edit</button>

            <button class="btn btn-danger confirmation" (click)="deleteBook(book._id)">Delete</button>
        </td>
    </tr>
</table>